<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>


    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./README_md.html">README</a>
  
  </ul>
</div>

    <div id="classindex-section" class="nav-section">
  <h3>Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Fattura24.html">Fattura24</a>
  
    <li><a href="./Fattura24/Api.html">Fattura24::Api</a>
  
    <li><a href="./Fattura24/Api/Response.html">Fattura24::Api::Response</a>
  
    <li><a href="./Fattura24/Configuration.html">Fattura24::Configuration</a>
  
    <li><a href="./Fattura24/DocumentType.html">Fattura24::DocumentType</a>
  
    <li><a href="./Fattura24/Error.html">Fattura24::Error</a>
  
    <li><a href="./Fattura24/InvalidParams.html">Fattura24::InvalidParams</a>
  
    <li><a href="./Fattura24/MissingApiKey.html">Fattura24::MissingApiKey</a>
  
    <li><a href="./Fattura24/MissingInput.html">Fattura24::MissingInput</a>
  
    <li><a href="./Fattura24/NotSerializable.html">Fattura24::NotSerializable</a>
  
    <li><a href="./Fattura24/Utils.html">Fattura24::Utils</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main">


<h1 id="label-Fattura24"><a href="Fattura24.html"><code>Fattura24</code></a><span><a href="#label-Fattura24">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Simple, lightweight and with minimal dependencies ruby 2 wrapper for the <a href="https://www.fattura24.com/">Fattura24</a> apis.</p>

<p>Tested and developed on rubies 2.4+, should be simple enough to work on older versions.</p>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;fattura24&#39;</span>
</pre>

<p>And then execute:</p>

<pre>$ bundle</pre>

<p>Or install it yourself as:</p>

<pre>$ gem install fattura24</pre>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>First, configure the module by adding your api key.</p>

<pre class="ruby"><span class="ruby-constant">Fattura24</span>.<span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">configuration</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">api_key</span> = <span class="ruby-string">&#39;your_secret_key&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Once set, you can call the api methods to get the responses you need.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-constant">Fattura24</span><span class="ruby-operator">::</span><span class="ruby-constant">Api</span>.<span class="ruby-identifier">test_key</span>

<span class="ruby-comment"># Check for possible network errors, returns true on ok (200) responses</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">success?</span>

<span class="ruby-comment"># Call .to_h to get a hash version of the xml response</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">to_h</span>[<span class="ruby-value">:returnCode</span>]

<span class="ruby-comment"># If you need more info, check the raw Net::HTTP response object</span>
<span class="ruby-identifier">raw_response</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">http_response</span>
</pre>

<p>Beware, this will not validate your api key by triggering the appropriate api endpoint. You are required to explicitly call the appropriate method if you want to check the status of your token.</p>

<h2 id="label-Development">Development<span><a href="#label-Development">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>After checking out the repo, run <code>bundle</code> to install dependencies. Then, run <code>bundle exec rake</code> to run the tests. You can also run <code>bin/console</code> for an interactive prompt that will allow you to experiment.</p>

<p>To install this gem onto your local machine, run <code>bundle exec rake install</code>.</p>

<h3 id="label-Release+of+a+new+version">Release of a new version<span><a href="#label-Release+of+a+new+version">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>To release a new version, update the version number in <code>version.rb</code>, and <code>lib/fattura24/version</code>. Make sure version tests are still satisfied. Then run <code>bundle exec rake release</code>, which will create a git tag for the version, push git commits and tags, and push the <code>.gem</code> file to <a href="https://rubygems.org">rubygems.org</a>.</p>

<h2 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Everyone is welcome to contribute. This project tries to follow the git-flow branching model. Open a branch named <code>feature/&lt;name&gt;</code> and make a PR against <code>develop</code>.</p>

<p>Please, make sure you include appropriate unit tests to the codebase (also check coverage) and that your code satisfies rubocop checks.</p>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The gem is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

